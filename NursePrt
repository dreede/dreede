package MedicalDB;
import java.util.Scanner;
import java.time.format.DateTimeFormatter;
import java.time.LocalDateTime;
import java.math.*;

import MedicalDB.Patient;

public class NursePrt extends PatientDB{

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		int begin;
		String input = null;
		int patient_no;
		String bmi = null;
		
		System.out.println("Welcome to the Patient Viewer");
		System.out.println("Current date and time is");
		DateTimeFormatter dtf = DateTimeFormatter.ofPattern("yyyy/MM/dd HH:mm:ss");
		LocalDateTime now = LocalDateTime.now();
		System.out.println(dtf.format(now));
		System.out.println("1. All Files");
		System.out.println("2. One Patient's Files");
		begin = sc.nextInt();
		if (begin == 1) {
			ArrayDB.Array(args);
			ArrayDB Two = new ArrayDB();
			if (Two != null);
			System.out.println(Two);
		} else if (begin == 2) {
		do {
			System.out.print("Enter the a Patient Number: ");
			patient_no = sc.nextInt();
			PatientDB pat = new PatientDB();
			Patient c;
			c = pat.getPatient(patient_no);
			
			if (c != null) {
				System.out.println("Name: " + c.getName());
				System.out.println("Address: " + c.getAddress());
				System.out.println("City: " + c.getCity());
				System.out.println("State: " + c.getState());
				System.out.println("Postal Code: " + c.getPostalCode());
				System.out.println();
				System.out.println("Age: " + c.getAge());
				System.out.println("Height: " + c.getHeight());
				System.out.println("Weight: " + c.getWeight());
				System.out.println();
				System.out.println("Do you want the patients BMI? (y/n)");
				bmi = sc.next();
				if (bmi.equals("Y") || bmi.equals("y"));{
					
					double a = Double.parseDouble(c.getHeight());
					double b = Double.parseDouble(c.getWeight());
					BigDecimal d;
					d = BigDecimal.valueOf(b);
					double e = (double) Math.pow(a, 2);
					BigDecimal f; 
					f = BigDecimal.valueOf(e);
					BigDecimal g = d.divide(f, 2, RoundingMode.HALF_UP);
					
					System.out.println("BMI: " + g);
				}
			} else
				System.out.println("There is no customer number " + patient_no + " in our records.");
			System.out.print("Display another patient? (y/n) : ");
			input = sc.next();
		} while (input.equals("Y") || input.equals("y"));
	}
	}	
}
